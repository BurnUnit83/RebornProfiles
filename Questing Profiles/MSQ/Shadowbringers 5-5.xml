<?xml version="1.0" encoding="utf-8"?>
<!--
  Profile: Shadowbrings 5.5 MSQ
  Authors: DomesticWarlord86
-->
<Profile>
  <Name>Shadowbrings 5.5 MSQ</Name>
  <BehaviorDirectory></BehaviorDirectory>
  <Order>
  
    <!-- Lisbeth check -->
	<If condition="not LisbethPresent">
	  <LLToast message="This profile requires the BotBase Lisbeth to run."/>
	  <LLToast message="Please make sure Lisbeth is installed correctly before proceeding."/>
	  <StopBot/>
	</If>
	<If condition="LisbethPresent">
	  <Log Message="Lisbeth found. Starting profile..." />
	</If>

	<!-- Profile start here -->
	<!-- Check if completed 5.4 quests -->
    <If Condition="not IsQuestCompleted(69552)">
		<LLToast message="Please complete 5.4 quests before loading this profile."/>
    </If>
	
    <!-- Unto the Breach -->
    <If Condition="IsQuestCompleted(69552) and not HasQuest(69594) and not IsQuestCompleted(69594)">
	  <If condition="not IsOnMap(351)">
		<LisbethTravel Zone="156" Subzone="943" Position="21.43668, 21.25273, -632.4913"/>
		<UseTransport NpcId="2002881" InteractDistance="3.0" XYZ="21.13373, 22.32391, -631.281"/>
	  </If>		
      <MoveTo ZoneId="351" XYZ="-1.825943, 0, -8.008231"/>
      <If Condition="IsQuestAcceptQualified(69594)">
        <LLPickupQuest QuestId="69594" NpcId="1035613"/>
        <LLSmallTalk/>
      </If>
    </If>
    <If Condition="GetQuestStep(69594) == 1">
      <LisbethTravel Zone="621" Subzone="2610" Position="740.4781, 70, 535.9889"/>
      <LLTalkTo NpcId="1036324" XYZ="739.681, 70, 535.4237" QuestId="69594" StepId="1"/>
    </If>
    <If Condition="GetQuestStep(69594) == 255">
      <LisbethTravel Zone="621" Subzone="2610" Position="739.9655, 70, 527.4711"/>
      <LLTurnIn QuestId="69594" NpcId="1036329" XYZ="741.1155, 70, 527.7333"/>
      <LLSmallTalk/>
    </If>

    <!-- Here Be Dragons -->
    <If Condition="IsQuestCompleted(69594) and not HasQuest(69595) and not IsQuestCompleted(69595)">
      <LisbethTravel Zone="621" Subzone="2610" Position="740.3708, 70, 528.1683"/>
      <If Condition="IsQuestAcceptQualified(69595)">
        <LLPickupQuest QuestId="69595" NpcId="1036330"/>
        <LLSmallTalk/>
      </If>
    </If>
    <If Condition="GetQuestStep(69595) == 1">
      <LisbethTravel Zone="418" Subzone="0" Position="-72.76115, 8.05915, 29.91529"/>
      <LLTalkTo NpcId="1036334" XYZ="-73.56378, 8.05915, 29.3125" QuestId="69595" StepId="1"/>
    </If>
    <If Condition="GetQuestStep(69595) == 2">
      <LisbethTravel Zone="418" Subzone="2312" Position="125.5487, 24.45884, 0.9957861"/>
      <LLTalkTo NpcId="1013167" XYZ="125.6885, 24.45884, 2.456604" QuestId="69595" StepId="2"/>
    </If>
    <If Condition="GetQuestStep(69595) == 3">
      <LisbethTravel Zone="419" Subzone="2323" Position="161.3944, -15.13437, 31.15745"/>
      <LLTalkTo NpcId="1036342" XYZ="161.9135, -15.13437, 33.27991" QuestId="69595" StepId="3"/>
    </If>
    <If Condition="GetQuestStep(69595) == 255">
      <LisbethTravel Zone="402" Subzone="2112" Position="-519.7336, -104.0679, 142.8202"/>
      <LLTurnIn QuestId="69595" NpcId="1036344" XYZ="-521.5991, -103.9468, 143.6331"/>
      <LLSmallTalk/>
    </If>

    <!-- Righteous Indignation -->
    <If Condition="IsQuestCompleted(69595) and not HasQuest(69596) and not IsQuestCompleted(69596)">
      <LisbethTravel Zone="402" Subzone="2112" Position="-519.6412, -103.999, 144.4282"/>
      <If Condition="IsQuestAcceptQualified(69596)">
        <LLPickupQuest QuestId="69596" NpcId="1036346"/>
        <LLSmallTalk/>
      </If>
    </If>
    <If Condition="GetQuestStep(69596) == 1">
      <LisbethTravel Zone="402" Subzone="2145" Position="-679.8066, -41.07288, 425.8201"/>
      <UseObject NpcId="2011483" XYZ="-681.5442, -41.15363, 424.5822" QuestId="69596" StepId="1"/>
    </If>
    <If Condition="GetQuestStep(69596) == 2">
      <LisbethTravel Zone="402" Subzone="2145" Position="-683.5772, -41.50123, 427.6252"/>
      <LLTalkTo NpcId="1036588" XYZ="-683.3448, -41.40399, 426.4438" QuestId="69596" StepId="2"/>
    </If>
    <If Condition="GetQuestStep(69596) == 3">
      <LisbethTravel Zone="402" Subzone="2114" Position="-229.0773, 246.3967, 94.75921"/>
      <LLTalkTo NpcId="1036353" XYZ="-229.3889, 246.3967, 96.75745" QuestId="69596" StepId="3"/>
    </If>
    <If Condition="GetQuestStep(69596) == 4 and GetQuestById(69596).QuestI8A == 0">
      <LisbethTravel Zone="402" Subzone="2114" Position="-244.4061, 263.1711, -24.01544"/>
      <LLTalkTo NpcId="1036359" XYZ="-244.5563, 263.1892, -24.5213" QuestId="69596" StepId="4"/>
    </If>
    <If Condition="GetQuestStep(69596) == 4 and GetQuestById(69596).QuestI8A == 1">
      <LisbethTravel Zone="402" Subzone="2114" Position="-273.6509, 252, -20.85906"/>
      <LLTalkTo NpcId="1036357" XYZ="-275.4406, 252, -20.9812" QuestId="69596" StepId="4"/>
    </If>
    <If Condition="GetQuestStep(69596) == 4 and GetQuestById(69596).QuestI8A == 2">
      <LisbethTravel Zone="402" Subzone="2114" Position="-216.4458, 253.9521, -15.39699"/>
      <LLTalkTo NpcId="1036358" XYZ="-215.1675, 253.8181, -13.16864" QuestId="69596" StepId="4"/>
    </If>
    <If Condition="GetQuestStep(69596) == 5">
      <LisbethTravel Zone="402" Subzone="2114" Position="-229.0385, 246.3967, 94.78196"/>
      <LLTalkTo NpcId="1036353" DialogOption="1" XYZ="-229.3889, 246.3967, 96.75745" QuestId="69596" StepId="5"/>
    </If>	
    <If Condition="GetQuestStep(69596) == 255">
      <LisbethTravel Zone="402" Subzone="2114" Position="-273.7436, 252, -20.21564"/>
      <LLTurnIn ItemId="2003070" QuestId="69596" NpcId="1036357" XYZ="-275.4406, 252, -20.9812"/>
      <LLSmallTalk/>
    </If>

    <!-- For Vengeance -->
    <If Condition="IsQuestCompleted(69596) and not HasQuest(69597) and not IsQuestCompleted(69597)">
      <LisbethTravel Zone="402" Subzone="2114" Position="-273.6889, 252, -20.59524"/>
      <If Condition="IsQuestAcceptQualified(69597)">
        <LLPickupQuest QuestId="69597" NpcId="1036953"/>
        <LLSmallTalk/>
      </If>
    </If>
    <If Condition="GetQuestStep(69597) == 1">
      <LisbethTravel Zone="402" Subzone="2174" Position="28.33368, 271.2328, -36.11587"/>
      <UseObject NpcId="2011484" XYZ="28.36646, 271.229, -35.35516" QuestId="69597" StepId="1"/>
    </If>
    <If Condition="GetQuestStep(69597) == 2">
      <LisbethTravel Zone="402" Subzone="2145" Position="-681.034, -41.44375, 429.777"/>
      <LLTalkTo NpcId="1036351" XYZ="-681.3306, -41.32259, 427.6646" QuestId="69597" StepId="2"/>
    </If>
    <If Condition="GetQuestStep(69597) == 3">
      <LisbethTravel Zone="402" Subzone="2145" Position="-681.034, -41.44375, 429.777"/>
      <LLTalkTo NpcId="1036351" XYZ="-681.3306, -41.32259, 427.6646" QuestId="69597" StepId="3"/>
    </If>
    <If Condition="GetQuestStep(69597) == 255">
      <LisbethTravel Zone="402" Subzone="2145" Position="-680.7033, -41.41474, 429.7432"/>
      <LLTurnIn QuestId="69597" NpcId="1036352" XYZ="-679.9268, -41.30151, 429.0073"/>
      <LLSmallTalk/>
    </If>

    <!-- The Flames of War -->
    <If Condition="IsQuestCompleted(69597) and not HasQuest(69598) and not IsQuestCompleted(69598)">
      <LisbethTravel Zone="402" Subzone="2145" Position="-680.8792, -41.43016, 429.7612"/>
      <If Condition="IsQuestAcceptQualified(69598)">
        <LLPickupQuest QuestId="69598" NpcId="1036352"/>
        <LLSmallTalk/>
      </If>
    </If>	
    <If Condition="GetQuestStep(69598) == 1">
      <LisbethTravel Zone="130" Subzone="614" Position="-137.8953, 4.099999, -108.6437"/>
      <LLTalkTo NpcId="1036368" XYZ="-137.5601, 4.1, -109.8192" QuestId="69598" StepId="1"/>
    </If>
    <If Condition="GetQuestStep(69598) == 2">
		<!-- 
	  <If condition="not IsOnSubMap(654)">
        <LisbethTravel Zone="130" Subzone="640" Position="-21.34449, 9.999999, -43.98389"/>
	    <UseTransport  DialogOption="0" NpcId="1001834" InteractDistance="3.0" XYZ="-23.33112, 10, -43.44244"/>	
	  </If>	-->
      <LisbethTravel Zone="130" Subzone="654" Position="-22.70683, 83.19999, 10.58135"/>
      <LLTalkTo NpcId="1036374" XYZ="-25.0401, 83.19998, 10.45239" QuestId="69598" StepId="2"/>
    </If>	
    <While Condition="GetQuestStep(69598) == 3">
      <LLToast message="Please complete the duty Paglth'an and then run the profile again."/>
	  <WaitTimer WaitTime="26" />
    </While>
    <If Condition="GetQuestStep(69598) == 255">
	  <LisbethTravel Zone="130" Subzone="654" Position="-22.70683, 83.19999, 10.58135"/>
      <LLTurnIn QuestId="69598" NpcId="1036376" XYZ="-20.06567, 83.2, 15.12164"/>
      <LLSmallTalk/>
    </If>

    <!-- The Flames of War -->
    <If Condition="IsQuestCompleted(69598) and not HasQuest(69599) and not IsQuestCompleted(69599)">
	  <LisbethTravel Zone="130" Subzone="654" Position="-22.70683, 83.19999, 10.58135"/>
      <If Condition="IsQuestAcceptQualified(69599)">
        <LLPickupQuest QuestId="69599" NpcId="1036376"/>
        <LLSmallTalk/>
      </If>
    </If>
    <If Condition="GetQuestStep(69599) == 1">
      <LisbethTravel Zone="131" Subzone="652" Position="-77.1132, 42, 57.38252"/>
      <LLTalkTo NpcId="1036388" XYZ="-76.46301, 42, 58.24365" QuestId="69599" StepId="1"/>
    </If>
    <If Condition="GetQuestStep(69599) == 2">
      <LisbethTravel Zone="131" Subzone="652" Position="-77.11345, 42, 57.41567"/>
      <LLTalkTo NpcId="1036391" XYZ="-77.71423, 42, 58.854" QuestId="69599" StepId="2"/>
    </If>
    <If Condition="GetQuestStep(69599) == 3">
      <LisbethTravel Zone="131" Subzone="653" Position="-15.29683, 36.01366, 59.17099"/>
      <LLTalkTo NpcId="1036392" XYZ="-14.32831, 36.01278, 61.08191" QuestId="69599" StepId="3"/>
    </If>	
    <If Condition="GetQuestStep(69599) == 4">
      <LisbethTravel Zone="156" Subzone="943" Position="21.86835, 21.25273, -632.9349"/>
      <LLTalkTo NpcId="2002881" XYZ="21.13373, 22.32391, -631.281" QuestId="69599" StepId="4"/>
    </If>
    <If Condition="GetQuestStep(69599) == 255">
	  <If condition="not IsOnMap(351)">
		<LisbethTravel Zone="156" Subzone="943" Position="21.43668, 21.25273, -632.4913"/>
		<UseTransport NpcId="2002881" InteractDistance="3.0" XYZ="21.13373, 22.32391, -631.281"/>
	  </If>		
      <MoveTo XYZ="-2.715755, 0, -6.416834"/>
      <LLTurnIn QuestId="69599" NpcId="1036399" XYZ="-3.402832, 0.01804012, -8.499329"/>
      <LLSmallTalk/>
    </If>	
  </Order>
  <GrindAreas>
  </GrindAreas>
  <CodeChunks>
  </CodeChunks>
</Profile>  